<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Order edit</title>
    <link rel="stylesheet" type="text/css" href="{% static 'order_edit.css' %}">
    <script type="text/javascript" src="{% static 'order_edit.js' %}"></script>
</head>
<body>
    <form method="post" onsubmit="beforeSubmit()">
        <div class="error">{{ error_message|linebreaks }}</div>
        <table>
            <tr>
                <th>Order id:</th>
                <td><input class="textbox" type="text" name="order_id" value="{{ ote.order.id }}" readonly></td>
                <td rowspan="6" class="multiple-checkbox-holder">
                    <div class="item title"><b>Testers:</b></div>
                    {% for tester in ote.testers %}
                    <div class="item">
                        <input type="checkbox" name="tes" value="{{ tester.tester_name }}" class="chkbx blockableCheckbox"{% if tester.assigned %} checked{% endif %}{% if ote.order.isSent %} disabled{% endif %}>
                        <div class="chkbx-title">'{{ tester.tester_name }}'</div>
                    </div>
                    {% endfor %}
                </td>
                <td rowspan="5"><button type="submit"{% if ote.order.isSent %} disabled{% endif %}>Submit</button></td>
            </tr>
            </tr>
            <tr>
                <th>Creation date:</th>
                <td><input class="textbox" type="text" value='{{ ote.order.date|date:"c" }}' readonly></td>
            </tr>
            <tr>
                <th>Order name:</th>
                <td><input class="textbox blockable" name="order_name" type="text" value="{{ ote.order.name }}"{% if ote.order.isSent %} readonly{% endif %}></td>
            </tr>
            <tr>
                <th>Client name:</th>
                <td><input class="textbox blockable" name="client_name" type="text" value="{{ ote.order.client }}"{% if ote.order.isSent %} readonly{% endif %}></td>
            </tr>
            <tr>
                <th>Status:</th>
                <td><input class="textbox" type="text" value="{{ ote.order.get_status }}" readonly></td>
            </tr>
            {% if ote.order.isReady %}
            <tr>
                <td colspan="2">
                    <div class="checkbox-wrapper">Set as sent <input class="checkbox" type="checkbox" name="set_as_sent" id="locker" onclick="disableElements(this)"{% if ote.order.isSent %} checked disabled{% endif %}></div>
                </td>
            </tr>
            {% endif %}
        </table>

        <table class="mainTable">
            <thead>
                <tr>
                    <th>Nr</th>
                    <th>Serial</th>
                    <th>Manufacturer</th>
                    <th>Model</th>
                    <th>CPU</th>
                    <th>GPU</th>
                    <th>RAM</th>
                    <th>Other</th>
                    <th>Status</th>
                    <th>Edit</th>
                </tr>
            </thead>
            <tbody>
                {% for computer in ote.computers %}
                <tr>
                    {{ ote.increment }}
                    <td>{{ ote.count }}</td>
                    <td>{{ computer.computer_serial }}</td>
                    <td>{{ computer.f_manufacturer.manufacturer_name }}</td>
                    <td>{{ computer.f_model.model_name }}</td>
                    <td>{{ computer.f_cpu.cpu_name }}</td>
                    <td>{{ computer.f_gpu.gpu_name }}</td>
                    <td>{{ computer.f_ram_size.ram_size_text }}</td>
                    <td>{{ computer.other }}</td>
                    <td>
                        <select name="status_{{ computer.id_computer }}" class="blockableSelect"{% if ote.order.isSent %} disabled{% endif %}>
                            <option value="In-Preperation"{% if computer.f_id_comp_ord.is_ready == 0 %} selected{% endif %}>In-Preperation</option>
                            <option value="Ready"{% if computer.f_id_comp_ord.is_ready == 1 %} selected{% endif %}>Ready</option>
                        </select>
                    </td>
                    <td>
                        <button class="img-button" type="button" onclick="edit({{ computer.id_computer }})">
                            <img
                                src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAy1JREFUSImV02tIU2EYB/D/2TnunDmmQxs4DQMrRMM1jTYjbQ6ipALDOB+rr/lFhCV+CcpYNyMManQvksAuil0U7GaJWCNRsqiG2SojdZaOdciz4+a7PsjEbe24PfB+Oe/7/P7PuVFIoCwWi1alUonR10VRpHp7e/1yvdRyeG1t7ZmVen1FCsf9jd5jGSYozs09tdlsJxIZNKYaGhqOtLe3zzudzlC86uzs/Fxpta6OZyjk8KqqqkMGgyHuGQBQKBQKkRDKarVWWywWJqGAMF5aWkrL4eGigfoQIddpmnYuG5As/qq/X5em1e6laTqdAjZYrdYRnucXeyMCksXtl9rwUr1Ds7liqyo9PX0BpKi109PTrrC9CMXDBUGA3+9HdnZ2JH7xHlpDlfibtgZfPAK25Wvw2zMBSZJAARm5ubmbTCZTKw0Adru9zmg0HsvLy6O9Xi/CSxAEDA8Po6SkBBzHRUzeGqoEUWqAyfcYTi3FR58Se/IV+O2ZwOzsrI+maXtXV9d7mud5pVqtvmYymXSiKGLpkiQJxcXF0Gq1i/jRC3dxewnuYotAhQioGTeGZlKxK58N/vzmbnrW0+MAAEYQBCorK2vKbDbnL/fMGx23cVexMwZPm3gNH7MC/nmaPBoYdQz09DSGe2S/8aV1JAJ/F4OzkpcUfL95dqDjct3SvoQCDp9vxb0I3BCDF461NL99cNEW3Rvz50WX484TtNG7FvCJd3BxkTgX9KHw2/UbQw+vHPxfv+wd/BgbAxv4A25u5r+4KujDfu6FT+MbORnPkA0YHBxEcUEejhsn8SukiZn8pHEcVeWGaTlDNuCTywVCCHQaJVrKp7DK83xx8lPGcdTu2y3XLh8wOjqKjx8+4OrVKwgEAshKU8KxQ41Vwa9o2uBJCAdkXnJfXx88Hg8IIXh4vwPriorg9Xpxq3o9ysrKEsJlA944ndDr9cjIzMRGsxlbysuRkZmZMLxswIGaGqzQ6ZCTk5M0GhOQwjCB6I31RmNCACGEsDL7FACca27eDoY56Pf7U5KZjmXZYECSHtvq60/LBgAAz/NKt9sdSiZAp9Mpuru7Jbkz/wAVAobVY0U2sQAAAABJRU5ErkJggg=="
                            />
                        </button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </form>
</body>
</html>